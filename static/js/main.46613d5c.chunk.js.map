{"version":3,"sources":["blocks/header/images/header__logo.svg","components/HeaderMenu.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","hooks/useFormValidator.js","components/EditProfilePopup.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","utils/api.js","utils/utils.js","components/AuthForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","blocks/popup/images/successful-registration.svg","blocks/popup/images/unsuccessful registration.svg","components/InfoToolTip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["HeaderMenu","props","path","className","isOpen","userData","email","onClick","onSignOut","Header","React","useState","hamburgerMenuOpen","setHamburgerMenuOpen","href","target","src","logo","alt","to","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","user","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onCardClick","onCardDeleteClick","type","onCardLike","length","Main","avatar","isAvatarLoading","onEditAvatar","isUserInfoLoading","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","action","onSubmit","noValidate","onClose","title","children","disabled","isDisabled","isLoading","buttonText","useFormValidator","values","setValues","errors","setErrors","isElementValid","setElementValid","resetFormInputs","useCallback","blankValues","blankErrors","defaultValidState","handleElementChange","e","value","validationMessage","closest","checkValidity","EditProfilePopup","useEffect","preventDefault","onUpdateUser","id","required","minLength","maxLength","onChange","ImagePopup","EditAvatarPopup","onUpdateAvatar","placeholder","AddPlacePopup","DeletePopup","onDeleteCard","selectedCard","api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","then","_getServerResponse","item","method","body","JSON","stringify","newCard","dislike","like","data","authorization","AuthForm","pathname","useLocation","formName","isValid","submitButtonText","Login","onSignIn","isLoggedIn","aria-label","password","Register","onSignUp","isSuccess","ProtectedRoute","InfoToolTip","successfulRegistration","unSuccessfulRegistration","usSuccess","BASE_URL","checkResponse","response","Error","statusText","App","isEditAvatarPopupOpen","setEditAvatarState","isEditProfilePopupOpen","setEditProfileState","isAddPlacePopupOpen","setAddPlaceState","isImagePopupOpen","setImagePopupState","isToolTipPopupOpen","setToolTipPopupOpen","isDeletePopupOpen","setDeletePopupState","setSelectedCard","setCurrentUser","setCards","setAvatarLoading","setUserInfoLoading","isButtonSubmitLoading","setButtonSubmitLoading","setIsLoggedIn","setUserData","setIsSuccess","history","useHistory","closeAllPopups","getUserInfo","catch","err","console","log","finally","getCards","token","jwt","localStorage","getItem","push","Provider","removeItem","exact","changeLikeCardStatus","updateCard","c","register","authorize","setItem","updatedUserInfo","setUserInfo","newUserInfo","addCard","updatedAvatar","setAvatar","newAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.46613d5c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.03b78ada.svg\";","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nexport default function HeaderMenu(props) {\n\n  return (\n    <Switch>\n\n      <Route path='/'>\n        <nav className={props.isOpen ? 'header__menu header__menu_opened' : 'header__menu'}>\n          <p className='header__email'>{props.userData.email}</p>\n          <button className='header__sign-out' onClick={props.onSignOut}>Выйти</button>\n        </nav>\n      </Route>\n\n    </Switch>\n  )\n}","import React from 'react';\nimport logo from '../blocks/header/images/header__logo.svg';\nimport HeaderMenu from './HeaderMenu';\nimport { Route, Link, Switch } from 'react-router-dom';\n\nfunction Header(props) {\n\n  const [hamburgerMenuOpen, setHamburgerMenuOpen] = React.useState(false);\n\n  function handleMenuClick() {\n    setHamburgerMenuOpen(!hamburgerMenuOpen);\n  }\n\n  function handleSignOut() {\n    props.onSignOut();\n    setHamburgerMenuOpen(false);\n  }\n\n  return (\n    <header className=\"header\">\n      <HeaderMenu\n        userData={props.userData}\n        onSignOut={handleSignOut}\n        isOpen={hamburgerMenuOpen}\n      />\n      <div className='header__main'>\n\n        <a href=\".\" target=\"_top\">\n          <img src={logo} className=\"header__logo\" alt=\"Логотип\" />\n        </a>\n\n        <Switch>\n\n          <Route path='/sign-in'>\n            <Link to='/sign-up' className='header__link'>Регистрация</Link>\n          </Route>\n\n          <Route path='/sign-up'>\n            <Link to='/sign-in' className='header__link'>Войти</Link>\n          </Route>\n\n          <Route path='/'>\n            <button className={!hamburgerMenuOpen ? 'header__hamburger-button' : 'header__hamburger-button header__hamburger-button_opened'} onClick={handleMenuClick}></button>\n          </Route>\n\n        </Switch>\n\n      </div>\n    </header>\n  )\n}\n\nexport default Header;","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nexport default function Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  \n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some(user => user._id === currentUser._id);\n\n  const cardDeleteButtonClassName = (\n    `${isOwn? 'card__delete-button': 'card__delete-button card__delete-button_hidden'}`\n  )\n\n  const cardLikeButtonClassName = (\n    `${isLiked? 'card__like-button card__like-button_active': 'card__like-button'}`\n  );\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  } \n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDeleteClick(props.card)\n  }\n\n  return (\n    <article className=\"card\">\n      <img src={props.card.link} className=\"card__image\" alt={props.card.name} onClick={handleClick} />\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\"></button>\n      <div className=\"card__caption\">\n        <h2 className=\"card__name\">{props.card.name}</h2>\n        <div className=\"card__like-display\">\n          <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\n          <p className=\"card__like-counter\" name=\"\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  )\n}","import React from 'react';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nexport default function Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img src={currentUser.avatar} alt={props.isAvatarLoading ? \"Загрузка...\" : `Аватар пользователя: ${currentUser.name}`}\n            className=\"profile__avatar\" />\n          <button className=\"profile__avatar-edit\" type=\"button\" onClick={props.onEditAvatar}></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{props.isUserInfoLoading ? \"Загрузка...\" : currentUser.name}</h1>\n          <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\n          <p className=\"profile__caption\">{props.isUserInfoLoading ? \"Загрузка...\" : currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"cards\">\n        {props.cards.map(card => (\n          <Card\n          key={card._id}\n          card={card}\n          onCardClick={props.onCardClick}\n          onCardLike={props.onCardLike}\n          onCardDeleteClick={props.onCardDeleteClick}\n          />\n        ))}\n      </section>\n    </main>\n  )\n\n}","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n  return (\n    <article className={`popup popup_type_${props.name} ${props.isOpen?'popup_opened':''}`}>\n    <form action=\"#\" className=\"form popup__container\" name={props.name} onSubmit={props.onSubmit} noValidate>\n      <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\n      <h2 className=\"popup__caption\">{props.title}</h2>\n      {props.children}\n      <button disabled={props.isDisabled} className={!props.isDisabled ? \"popup__submit popup__submit_active\" : \"popup__submit\"} type=\"submit\">{props.isLoading ? \"Загрузка...\" : props.buttonText}</button>\n    </form>\n  </article>\n  )\n\n}\n\nexport default PopupWithForm;","import React from 'react';\n\nexport default function useFormValidator() {\n\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isElementValid, setElementValid] = React.useState(false);\n\n  function handleElementChange(e) {\n    const target = e.target;\n    const name = e.target.name;\n    const value = e.target.value;\n    \n\n    setValues({\n      ...values,\n      [name]: value,\n    })\n\n    setErrors({\n      ...errors,\n      [name]: target.validationMessage,\n    })\n\n    setElementValid(target.closest('.form').checkValidity());\n  }\n\n  const resetFormInputs = React.useCallback(\n    (blankValues = {}, blankErrors = {}, defaultValidState = false) => {\n      setValues(blankValues);\n      setErrors(blankErrors);\n      setElementValid(defaultValidState);\n    }, [setValues, setErrors, setElementValid]);\n\n  return {\n    values,\n    errors,\n    isElementValid,\n    handleElementChange,\n    resetFormInputs\n  };\n}\n","import React from 'react';\n\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport useFormValidator from '../hooks/useFormValidator';\n\nexport default function EditProfilePopup(props) {\n\n  const {\n    values,\n    errors,\n    isElementValid,\n    handleElementChange,\n    resetFormInputs\n  } = useFormValidator({});\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser(values);\n  }\n\n  React.useEffect(() => {\n    if (currentUser) {\n      resetFormInputs(currentUser);\n    }\n  }, [currentUser, resetFormInputs, props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      buttonText=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isDisabled={!isElementValid}\n      isLoading={props.isLoading}\n    >\n      <input\n        type=\"text\"\n        className={errors.name ? \"popup__text popup__text_type_error\" : \"popup__text\"}\n        id=\"name-input\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={values.name || \"\"}\n        onChange={handleElementChange}\n      />\n\n      <span className={errors.name ? \"popup__text-error popup__text-error_visible\" : \"popup__text-error\"}>\n        {errors.name}\n      </span>\n\n      <input\n        type=\"text\"\n        className={errors.about ? \"popup__text popup__text_type_error\" : \"popup__text\"}\n        id=\"caption-input\"\n        name=\"about\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={values.about || \"\"}\n        onChange={handleElementChange}\n      />\n\n      <span className={errors.about ? \"popup__text-error popup__text-error_visible\" : \"popup__text-error\"}>\n          {errors.about}\n      </span>\n    </PopupWithForm>\n  )\n}","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <article className={`popup popup_type_card-image ${props.isOpen?'popup_opened':''}`}>\n      <figure className=\"popup__image-container\">\n        <button className=\"popup__close popup__close_type_card-image\" type=\"button\" onClick={props.onClose}></button>\n        <img src={props.card.link} className=\"popup__image\" alt={props.card.name} />\n        <figcaption className=\"popup__figcaption\">{props.card.name}</figcaption>\n      </figure>\n    </article>\n  )\n}\n\nexport default ImagePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport useFormValidator from '../hooks/useFormValidator';\n\nexport default function EditAvatarPopup(props) {\n\n  const {\n    values,\n    errors,\n    isElementValid,\n    handleElementChange,\n    resetFormInputs\n  } = useFormValidator({});\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar(values)\n  }\n\n  React.useEffect(() => {\n      resetFormInputs();\n  }, [resetFormInputs, props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      buttonText=\"Сохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isDisabled={!isElementValid}\n      isLoading={props.isLoading}\n    >\n        <input\n        type=\"url\"\n        placeholder=\"Ссылка на аватарку\"\n        className={errors.avatar ? \"popup__text popup__text_type_error\" : \"popup__text\"}\n        id=\"avatar-input\"\n        name=\"avatar\"\n        value={values.avatar || \"\"}\n        onChange={handleElementChange}\n        required\n        />\n\n        <span className={errors.avatar ? \"popup__text-error popup__text-error_visible\" : \"popup__text-error\"}>\n          {errors.avatar}\n        </span>\n    </PopupWithForm>\n  )\n}","import React from 'react';\nimport useFormValidator from '../hooks/useFormValidator';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n\n  const {\n    values,\n    errors,\n    isElementValid,\n    handleElementChange,\n    resetFormInputs\n  } = useFormValidator({});\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace(values)\n  }\n\n  React.useEffect(() => {\n    resetFormInputs();\n}, [resetFormInputs, props.isOpen]);\n\n  return (\n    <PopupWithForm\n          name=\"add\"\n          title=\"Новое место\"\n          buttonText=\"Сохранить\"\n          isOpen={props.isOpen}\n          onClose={props.onClose}\n          onSubmit={handleSubmit}\n          isDisabled={!isElementValid}\n          isLoading={props.isLoading}\n        >\n            <input\n            type=\"text\"\n            placeholder=\"Название\"\n            className={errors.name ? \"popup__text popup__text_type_error\" : \"popup__text\"}\n            name=\"name\"\n            id=\"image-input\"\n            required\n            minLength=\"2\"\n            maxLength=\"30\"\n            value={values.name || \"\"}\n            onChange={handleElementChange}\n            />\n\n            <span className={errors.name ? \"popup__text-error popup__text-error_visible\" : \"popup__text-error\"}>\n              {errors.name}\n            </span>\n\n            <input\n            type=\"url\"\n            placeholder=\"Ссылка на картинку\"\n            className={errors.link ? \"popup__text popup__text_type_error\" : \"popup__text\"}\n            id=\"link-input\"\n            name=\"link\"\n            required\n            value={values.link || \"\"}\n            onChange={handleElementChange}\n            />\n\n            <span className={errors.link ? \"popup__text-error popup__text-error_visible\" : \"popup__text-error\"}>\n              {errors.link}\n            </span>\n        </PopupWithForm>\n  )\n}","import React from 'react';\n\nimport PopupWithForm from './PopupWithForm';\n\nexport default function DeletePopup(props) {\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onDeleteCard(props.selectedCard)\n  }\n\n  return(\n    <PopupWithForm\n          name=\"delete\"\n          title=\"Вы уверены?\"\n          buttonText=\"Да\" \n          isOpen={props.isOpen}\n          isLoading={props.isLoading}\n          onClose={props.onClose}\n          onSubmit={handleSubmit}\n          />\n  )\n}","import {serverUrl, serverToken} from './utils';\n\nclass Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  //метод получения ответа от сервера\n  _getServerResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Не удалось получить ответ от сервера. Ошибка ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers\n    })\n      .then(this._getServerResponse);\n  }\n\n  setUserInfo(item) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about\n      })\n    })\n      .then(this._getServerResponse);\n  }\n\n  getCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers\n    })\n      .then(this._getServerResponse);\n  }\n\n  addCard(newCard) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link\n      })\n    })\n      .then(this._getServerResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n      .then(this._getServerResponse);\n  }\n\n  like(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this.headers\n    })\n      .then(this._getServerResponse);\n  }\n\n  dislike(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n      .then(this._getServerResponse);\n  }\n\n  changeLikeCardStatus(isLiked, id) {\n    if(isLiked) {\n      return this.dislike(id);\n    } else {\n      return this.like(id);\n    }\n  }\n\n  setAvatar(data) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n      .then(this._getServerResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: serverUrl,\n  headers: {\n    authorization: serverToken,\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","//Объявление переменных\nconst serverUrl = 'https://mesto.nomoreparties.co/v1/cohort-21';//адрес сервера\nconst serverToken = 'c717fb8f-7e38-4c7d-b617-f552f6e3b5d3';//токен авторизации\n\nexport { serverUrl, serverToken };","import React from 'react';\nimport { useLocation, Link } from 'react-router-dom';\n\nexport default function AuthForm(props) {\n\n  const {pathname} = useLocation();\n\n  return (\n    <section className='auth'>\n\n      <h2 className='auth__title'>{props.title}</h2>\n\n      <form\n        className='form auth__form'\n        action='#'\n        name={props.formName}\n        onSubmit={props.onSubmit}\n        noValidate\n      >\n\n        {props.children}\n\n        <button\n          className={props.isValid ? 'auth__button auth__button_active' : 'auth__button'}\n          disabled={!props.isValid}\n          type=\"submit\">\n\n            {props.submitButtonText}\n\n          </button>\n\n          {pathname === '/sign-up' && (\n            <p className='auth__caption'>Уже зарегистрированы? <Link className='auth__caption_type_link' to='/sign-in'>Войти</Link></p>\n          )}\n\n      </form>\n\n    </section>\n  )\n}","import React from 'react';\nimport AuthForm from './AuthForm';\nimport useFormValidator from '../hooks/useFormValidator';\n\nexport default function Login(props) {\n\n  const {\n    values,\n    errors,\n    isElementValid,\n    handleElementChange,\n    resetFormInputs\n  } = useFormValidator({});\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onSignIn(values);\n    if(props.isLoggedIn) {\n      resetFormInputs();\n    }\n  }\n\n  return (\n    <AuthForm\n      submitButtonText={props.isLoading ? 'Загрузка...' : 'Войти'}\n      title='Вход'\n      isValid={isElementValid}\n      onSubmit={handleSubmit}\n      formName='login'\n    >\n\n      <input\n        className='auth__input'\n        placeholder='Email'\n        aria-label='электронная почта'\n        type='email'\n        id='email'\n        name='email'\n        value={values.email || ''}\n        onChange={handleElementChange}\n        required\n      />\n\n      <span className={errors.email ? \"auth__input-error auth__input-error_visible\" : \"auth__input-error\"}>\n        {errors.email}\n      </span>\n\n      <input\n        className='auth__input'\n        placeholder='Пароль'\n        type='password'\n        id='password'\n        name='password'\n        value={values.password || ''}\n        onChange={handleElementChange}\n        required\n      />\n\n      <span className={errors.password ? \"auth__input-error auth__input-error_visible\" : \"auth__input-error\"}>\n        {errors.password}\n      </span>\n\n    </AuthForm>\n  )\n}","import React from 'react';\nimport AuthForm from './AuthForm';\nimport useFormValidator from '../hooks/useFormValidator';\n\nexport default function Register(props) {\n\n  const {\n    values,\n    errors,\n    isElementValid,\n    handleElementChange,\n    resetFormInputs\n  } = useFormValidator({});\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    \n    props.onSignUp(values)\n    if(props.isSuccess) {\n      resetFormInputs();\n    }\n  }\n\n  return (\n    <AuthForm\n      submitButtonText={props.isLoading ? 'Загрузка...' : 'Зарегистрироваться'}\n      title='Регистрация'\n      isValid={isElementValid}\n      onSubmit={handleSubmit}\n      formName='register'\n    >\n\n      <input\n        className='auth__input'\n        placeholder='Email'\n        aria-label='электронная почта'\n        type='email'\n        id='email'\n        name='email'\n        value={values.email || ''}\n        onChange={handleElementChange}\n        required\n      />\n\n      <span className={errors.email ? \"auth__input-error auth__input-error_visible\" : \"auth__input-error\"}>\n        {errors.email}\n      </span>\n\n      <input\n        className='auth__input'\n        placeholder='Пароль'\n        type='password'\n        id='password'\n        name='password'\n        value={values.password || ''}\n        onChange={handleElementChange}\n        required\n      />\n\n      <span className={errors.password ? \"auth__input-error auth__input-error_visible\" : \"auth__input-error\"}>\n        {errors.password}\n      </span>\n\n    </AuthForm>\n  )\n}","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\n\nexport default function ProtectedRoute({...props}) {\n  return (\n    <Route>\n      {\n        () => props.isLoggedIn ? <Route {...props} /> : <Redirect to='/sign-in' />\n      }\n    </Route>\n  )\n}","export default __webpack_public_path__ + \"static/media/successful-registration.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/unsuccessful registration.df8eddf6.svg\";","import React from 'react';\nimport successfulRegistration from '../blocks/popup/images/successful-registration.svg';\nimport unSuccessfulRegistration from '../blocks/popup/images/unsuccessful registration.svg';\n\nexport default function InfoToolTip(props) {\n\n  return (\n    <article className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button className=\"popup__close\" type=\"button\" onClick={props.onClose}></button>\n        <img\n          src={props.isSuccess ? successfulRegistration : unSuccessfulRegistration}\n          alt={props.usSuccess ? 'иконка успешной регистрации' : 'иконка неуспешной регистрации'}\n          className='popup__icon'\n        />\n        <p className='popup__message'>\n          {props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте еще раз.'}\n        </p>\n      </div>\n    </article>\n  )\n}","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nconst checkResponse = (response) => {\n  return response.ok ? response.json() : Promise.reject(new Error(`Ошибка ${response.status}: ${response.statusText}`));\n};\n\nconst headers = {\n  'Accept': 'application/json',\n  'Content-Type': 'application/json',\n};\n\nexport const register = (data) => {\n  return fetch(`${BASE_URL}/signup`, {\n    headers,\n    method: 'POST',\n    body: JSON.stringify(data),\n  })\n    .then(res => checkResponse(res));\n};\n\nexport const authorize = (data) => {\n  return fetch(`${BASE_URL}/signin`, {\n    headers,\n    method: 'POST',\n    body: JSON.stringify(data),\n  })\n    .then(res => checkResponse(res));\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      ...headers,\n      'Authorization': `Bearer ${token}`,\n    },\n  })\n    .then(res => checkResponse(res));\n};","import React from 'react';\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport ImagePopup from './ImagePopup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletePopup from './DeletePopup';\nimport api from '../utils/api';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoToolTip from './InfoToolTip';\n\nimport { authorize, checkToken, register } from '../utils/auth';\n\nexport default function App() {\n\n  const [isEditAvatarPopupOpen, setEditAvatarState] = React.useState(false);\n  const [isEditProfilePopupOpen, setEditProfileState] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlaceState] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupState] = React.useState(false);\n  const [isToolTipPopupOpen, setToolTipPopupOpen] = React.useState(false);\n  const [isDeletePopupOpen, setDeletePopupState] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isAvatarLoading, setAvatarLoading] = React.useState(false);\n  const [isUserInfoLoading, setUserInfoLoading] = React.useState(false);\n  const [isButtonSubmitLoading, setButtonSubmitLoading] = React.useState(false);\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState({});\n  const [isSuccess, setIsSuccess] = React.useState(false);\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    setAvatarLoading(true);\n    setUserInfoLoading(true);\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setUserInfoLoading(false);\n        setAvatarLoading(false);\n      })\n  }, [])\n\n  React.useEffect(() => {\n    api.getCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }, [])\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setImagePopupState(!isImagePopupOpen);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarState(!isEditAvatarPopupOpen);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfileState(!isEditProfilePopupOpen);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlaceState(!isAddPlacePopupOpen);\n  }\n\n  function closeAllPopups() {\n    setEditAvatarState(false);\n    setEditProfileState(false);\n    setAddPlaceState(false);\n    setImagePopupState(false);\n    setDeletePopupState(false);\n    setToolTipPopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleUpdateUser(updatedUserInfo) {\n    setButtonSubmitLoading(true);\n    setUserInfoLoading(true);\n    api.setUserInfo(updatedUserInfo)\n      .then((newUserInfo) => {\n        setCurrentUser(newUserInfo);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setUserInfoLoading(false);\n        setButtonSubmitLoading(false);\n      })\n  }\n\n  function handleUpdateAvatar(updatedAvatar) {\n    setAvatarLoading(true);\n    setButtonSubmitLoading(true);\n    api.setAvatar(updatedAvatar)\n      .then((newAvatar) => {\n        setCurrentUser(newAvatar);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setAvatarLoading(false);\n        setButtonSubmitLoading(false);\n      })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(user => user._id === currentUser._id);\n\n    api.changeLikeCardStatus(isLiked, card._id)\n      .then((updateCard) => {\n        setCards((cards) => cards.map((c) => (c._id === card._id ? updateCard : c)))\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleCardDelete(card) {\n    setButtonSubmitLoading(true);\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((c) => (c._id !== card._id)))\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setButtonSubmitLoading(false);\n      })\n  }\n\n  function handleAddPlace(card) {\n    setButtonSubmitLoading(true);\n    api.addCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setButtonSubmitLoading(false);\n      })\n  }\n\n  function handleCardDeleteClick(card) {\n    setSelectedCard(card);\n    setDeletePopupState(true);\n  }\n\n  function handleRegister(data) {\n    setButtonSubmitLoading(true);\n    register(data)\n      .then((res) => {\n        if (res) {\n          setIsSuccess(true);\n          setToolTipPopupOpen(true);\n          history.push('/sign-in');\n        }\n      })\n      .catch((err) => {\n        setToolTipPopupOpen(true);\n        setIsSuccess(false);\n\n        if (err === 400) {\n          console.log('некоректно заполено одно из полей');\n        }\n      })\n      .finally(() => {\n        setButtonSubmitLoading(false);\n      })\n  }\n\n  function handleLogin(data) {\n    setButtonSubmitLoading(true);\n    authorize(data)\n      .then((res) => {\n        if (res.token) {\n          setIsLoggedIn(true);\n          setUserData(data);\n          localStorage.setItem('jwt', res.token);\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        setIsSuccess(false);\n        setToolTipPopupOpen(true);\n        switch (err) {\n          case 400:\n            console.log('не передано одно из полей');\n            break;\n          case 401:\n            console.log('пользователь с email не найден');\n            break;\n          default:\n            break;\n        }\n      })\n      .finally(() => {\n        setButtonSubmitLoading(false);\n      })\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('jwt');\n    history.push('/sign-in');\n    setIsLoggedIn(false);\n  }\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if(jwt) {\n      checkToken(jwt)\n      .then((res) => {\n        setIsLoggedIn(true);\n        setUserData(res.data);\n        history.push('/');\n      })\n      .catch((err) => {\n        switch (err) {\n          case 400:\n            console.log('Токен не передан или передан не в том формате');\n            break;\n          case 401:\n            console.log('Переданный токен некорректен ');\n            break;\n          default:\n            break;\n        }\n      })\n    }\n  }, [history]);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <div className=\"page\">\n\n        <Header \n          userData={userData}\n          onSignOut={handleSignOut}\n        />\n\n        <Switch>\n\n          <ProtectedRoute exact path='/' isLoggedIn={isLoggedIn}>\n            <Main\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDeleteClick={handleCardDeleteClick}\n              cards={cards}\n              isAvatarLoading={isAvatarLoading}\n              isUserInfoLoading={isUserInfoLoading}\n            />\n\n            <Footer />\n          </ProtectedRoute>\n\n          <Route path='/sign-up'>\n            <Register\n              onSignUp={handleRegister}\n              isSuccess={isSuccess}\n              isLoading={isButtonSubmitLoading}\n            />\n          </Route>\n\n          <Route path='/sign-in'>\n\n            <Login \n              onSignIn={handleLogin}\n              isLoggedIn={isLoggedIn}\n              isLoading={isButtonSubmitLoading}\n            />\n          </Route>\n\n          <Route>\n            {isLoggedIn ? <Redirect to='/' /> : <Redirect to='/sign-in' />}\n          </Route>\n\n        </Switch>\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isButtonSubmitLoading}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n          isLoading={isButtonSubmitLoading}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isButtonSubmitLoading}\n        />\n\n        <DeletePopup\n          isOpen={isDeletePopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDelete}\n          isLoading={isButtonSubmitLoading}\n          selectedCard={selectedCard}\n        />\n\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n\n        <InfoToolTip\n          isOpen={isToolTipPopupOpen}\n          isSuccess={isSuccess}\n          onClose={closeAllPopups}\n        />\n\n      </div>\n\n    </CurrentUserContext.Provider>\n  );\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}